{% extends "base.html" %}

{% block title %}20.000 Basamaklı Asal Sayı | Çağrı Vakti{% endblock %}

{% block extra_css %}
<link href="https://fonts.googleapis.com/css2?family=Fira+Code&display=swap" rel="stylesheet">
<style>
    .prime-section {
        padding: 40px 20px;
        max-width: 1200px;
        margin: 0 auto;
        display: flex;
        flex-direction: column;
        align-items: center;
        animation: fadeIn 0.6s ease-out;
    }

    .prime-header {
        text-align: center;
        margin-bottom: 40px;
    }

    .prime-header h1 {
        font-size: 2.5rem;
        color: var(--primary);
        margin-bottom: 15px;
        font-weight: 800;
        letter-spacing: -1px;
    }

    .prime-header p {
        color: var(--gray);
        font-size: 1.1rem;
    }

    .prime-main-card {
        background: var(--card-bg);
        border: 1px solid rgba(255, 255, 255, 0.05);
        border-radius: 24px;
        padding: 30px;
        width: 100%;
        box-shadow: var(--card-shadow);
        position: relative;
        overflow: hidden;
    }

    .prime-card-actions {
        position: absolute;
        top: 20px;
        right: 20px;
        display: flex;
        gap: 10px;
        z-index: 5;
    }

    .btn-copy {
        background: rgba(255, 255, 255, 0.05);
        border: 1px solid rgba(255, 255, 255, 0.1);
        color: var(--gray);
        padding: 8px 12px;
        border-radius: 10px;
        font-size: 0.8rem;
        cursor: pointer;
        transition: var(--transition);
        display: flex;
        align-items: center;
        gap: 6px;
    }

    .btn-copy:hover {
        background: var(--primary);
        color: var(--dark);
        border-color: var(--primary);
    }

    .btn-copy.copied {
        background: #4caf50;
        color: white;
        border-color: #4caf50;
    }

    .prime-display {
        max-height: 50vh;
        overflow-y: auto;
        padding: 25px;
        background: rgba(0, 0, 0, 0.2);
        border-radius: 16px;
        border: 1px solid rgba(255, 255, 255, 0.03);
        position: relative;
    }

    .prime-display::after {
        content: "";
        position: absolute;
        bottom: 0;
        left: 0;
        right: 0;
        height: 40px;
        background: linear-gradient(to top, rgba(0,0,0,0.3), transparent);
        pointer-events: none;
        border-radius: 0 0 16px 16px;
    }

    .prime-display pre {
        font-family: 'Fira Code', monospace;
        white-space: pre-wrap;
        word-wrap: break-word;
        line-height: 1.8;
        font-size: 0.95rem;
        color: var(--text);
        opacity: 0.85;
        margin: 0;
        letter-spacing: 0.5px;
    }

    .prime-footer-info {
        margin-top: 20px;
        display: flex;
        align-items: center;
        gap: 10px;
        color: var(--gray);
        font-size: 0.9rem;
        justify-content: center;
    }

    .showroom {
        margin-top: 60px;
        width: 100%;
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 30px;
        margin-bottom: 40px;
    }

    .prime-card {
        background: var(--card-bg);
        border: 1px solid rgba(255, 255, 255, 0.05);
        border-radius: 20px;
        padding: 25px;
        transition: var(--transition);
        display: flex;
        flex-direction: column;
        position: relative;
    }

    .prime-card:hover {
        transform: translateY(-8px);
        border-color: rgba(255, 193, 7, 0.3);
        box-shadow: 0 15px 35px rgba(0, 0, 0, 0.4);
    }

    .prime-card h3 {
        margin-bottom: 20px;
        color: var(--primary);
        font-size: 1.2rem;
        font-weight: 700;
        display: flex;
        align-items: center;
        gap: 10px;
        padding-right: 40px;
    }

    .prime-card .btn-copy {
        position: absolute;
        top: 20px;
        right: 20px;
        padding: 6px 10px;
    }

    .prime-card pre {
        font-family: 'Fira Code', monospace;
        font-size: 0.85rem;
        max-height: 200px;
        overflow-y: auto;
        color: var(--text);
        opacity: 0.8;
        background: rgba(0, 0, 0, 0.2);
        padding: 15px;
        border-radius: 12px;
        margin: 0;
        border: 1px solid rgba(255, 255, 255, 0.02);
    }

    /* Custom scrollbar for prime display */
    .prime-display::-webkit-scrollbar,
    .prime-card pre::-webkit-scrollbar {
        width: 6px;
    }

    .prime-display::-webkit-scrollbar-thumb,
    .prime-card pre::-webkit-scrollbar-thumb {
        background: rgba(255, 193, 7, 0.2);
        border-radius: 10px;
    }

    .prime-display::-webkit-scrollbar-thumb:hover,
    .prime-card pre::-webkit-scrollbar-thumb:hover {
        background: var(--primary);
    }

    @media (max-width: 768px) {
        .prime-section {
            padding: 30px 15px;
        }
        .prime-header h1 {
            font-size: 1.8rem;
        }
        .prime-main-card {
            padding: 20px;
        }
        .prime-display {
            padding: 15px;
        }
        .prime-display pre {
            font-size: 0.9rem;
        }
    }
</style>
{% endblock %}

{% block content %}
<div class="prime-section">
    <div class="prime-header">
        <h1>20.000 Basamaklı Asal Sayı</h1>
        <p>Matematiğin büyüleyici dünyasından devasa bir keşif.</p>
    </div>

    <div class="prime-main-card">
        <div class="prime-card-actions">
            <button class="btn-copy" onclick="copyPrime('prime', this)" title="Kopyala">
                <svg class="icon" style="width: 14px; height: 14px;"><use xlink:href="#fa-copy"></use></svg>
                <span>Kopyala</span>
            </button>
        </div>
        <div class="prime-display">
            <pre id="prime">Yükleniyor...</pre>
        </div>
        <div class="prime-footer-info">
            <svg class="icon" style="width: 14px; height: 14px;"><use xlink:href="#fa-info-circle"></use></svg>
            <span>Kaydırarak sayının tamamını görebilirsiniz.</span>
        </div>
    </div>

    <div class="showroom">
        <div class="prime-card">
            <button class="btn-copy" onclick="copyPrime('prime5', this)" title="Kopyala">
                <svg class="icon" style="width: 14px; height: 14px;"><use xlink:href="#fa-copy"></use></svg>
            </button>
            <h3>
                <svg class="icon" style="color: var(--primary);"><use xlink:href="#fa-microchip"></use></svg>
                5 Basamaklı Asal
            </h3>
            <pre id="prime5">10601</pre>
        </div>
        
        <div class="prime-card">
            <button class="btn-copy" onclick="copyPrime('prime11330', this)" title="Kopyala">
                <svg class="icon" style="width: 14px; height: 14px;"><use xlink:href="#fa-copy"></use></svg>
            </button>
            <h3>
                <svg class="icon" style="color: var(--primary);"><use xlink:href="#fa-server"></use></svg>
                11.330 Basamaklı Asal
            </h3>
            <pre id="prime11330">Yükleniyor...</pre>
        </div>

        <div class="prime-card">
            <button class="btn-copy" onclick="copyPrime('prime20', this)" title="Kopyala">
                <svg class="icon" style="width: 14px; height: 14px;"><use xlink:href="#fa-copy"></use></svg>
            </button>
            <h3>
                <svg class="icon" style="color: var(--primary);"><use xlink:href="#fa-atom"></use></svg>
                20 Basamaklı Asal
            </h3>
            <pre id="prime20">100000000000000000039</pre>
        </div>
    </div>
</div>

<script>
    // Asal sayılar
    const primeNumbers = {
        prime: "90203185898906196727774856480617175716050760658620359742244392043817521273775849636976141545351622252483296519070279644113019223438445742068633737420459901411012463040989668196521301168670516302061041470143041844704851765591503522056176558817281726434283571767704517663762235831236035330800497357248847049008343455281878278831798277223727169510155621408666341614803552581424221090288764179471232817904543776431796748650445123551887319506307302893609591680327907536441932493454705345107692105467435450394211354077414806929062203486575348626263803254892937133981458088438960574537966546206952751419809213309148509884585475409556781888433498665694583675919684029138804283798929607330421043125756300854647691414850440547622874751178606561138261859631885905070848784864057745775423695670469512329726120896421550276942431975517859563748812772445043624415111071782216564525484461837871153292639149999724431120306854443258758154023362395442211787290976308831174899932348181911820137706520828379353425558292330040171628150219095922765899374952553939160442845765204942922965647043562630289221125366033026090090135587238276748730004685296989218112601018793290883226692978088669763393922543614342913964481600752131361175535179232905572132902793563963446721632508959320817759055497704368625236567920628155320936997521314007320975286889399036531814727314794638893753995367513915388865530415120262586853645976642874989535966238561845667531298228043900050975914266462066426558732950201393022313757301861056476777679703762449780305530986076561364921318458687044634325663973899616143687754654788411370241610535723949957597732855202800909848933912227694656827374527872784190526694486696225469459369676524833282544384192749645595239866723371533219684077833458023065708050240960639652083932732102740152085224356583530310166601753927702283658172114091703305655480842784119663729987369718150667770667832250918159568568455991126093487837192142666483210654255042175955620879090475224693609029837091679434449020318589890619672777485648061717571605076065862035974224439204381752127377584963697614154535162225248329651907027964411301922343844574206863373742045990141101246304098966819652130116867051630206104147014304184470485176559150352205617655881728172643428357176770451766376223583123603533080049735724884704900834345528187827883179827722372716951015562140866634161480355258142422109028876417947123281790454377643179674865044512355188731950630730289360959168032790753644193249345470534510769210546743545039421135407741480692906220348657534862626380325489293713398145808843896057453796654620695275141980921330914850988458547540955678188843349866569458367591968402913880428379892960733042104312575630085464769141485044054762287475117860656113826185963188590507084878486405774577542369567046951232972612089642155027694243197551785956374881277244504362441511107178221656452548446183787115329263914999972443112030685444325875815402336239544221178729097630883117489993234818191182013770652082837935342555829233004017162815021909592276589937495255393916044284576520494292296564704356263028922112536603302609009013558723827674873000468529698921811260101879329088322669297808866976339392254361434291396448160075213136117553517923290557213290279356396344672163250895932081775905549770436862523656792062815532093699752131400732097528688939903653181472731479463889375399536751391538886553041512026258685364597664287498953596623856184566753129822804390005097591426646206642655873295020139302231375730186105647677767970376244978030553098607656136492131845868704463432566397389961614368775465478841137024161053572394995759773285520280090984893391222769465682737452787278419052669448669622546945936967652483328254438419274964559523986672337153321968407783345802306570805024096063965208393273210274015208522435658353031016660175392770228365817211409170330565548084278411966372998736971815066777066783225091815956856845599112609348783719214266648321065425504217595562087909047522469360902983709167943444",
        prime11330: "1102033023201980329154642915242956047620504180801085155776813281879906639113236832358977469944289824454786338285449228626818585800647769824238536852516314337323670464650565878798264849944737171554309523896743059021410003690736746422754224563617335312497589376599932556012258170164676810135898400855920994165521447063277157132067493431826987792162133257293178525159716309834849349869325476685909204776693720080893202762972850742230446847691003909678071063592123025259744118711827754864984337276610693856278427046404668142398858147792995063891130188203076861784982811178200643686480079601875852439493995566439302928220459261932220944210345330271891974164690115314517968462342200006271894657201009961670827914180354501023343875113905543460591425311038356983596227999531179594890527590594276462835860246604969674260482576104833230299900236645889687195159641789174193224525458024400708343883427785263185258051502963195684623354379546207237486257235246297414218780933190530751216534846889944454339055812712344503647806845146491799660181298351423032002571475094658840758289448095385976645339616475675860544200692325602348224437829698584106275708748867960962398283116891856972445924422177237835015572364248314418012860994338896495723242555904582233695721761180035179060129219155861298085065727432455137535394933508394999971145891204161971333652655941947149405097389503602202504394719451399272653615018912469763241526625044946186179746671552763542002531671810965482854401406204850367423593659342796112162547013448727591660726675888181394721229255451601535991395452991439032272713975457909018787201383975714780800139372716112559881533031803245434893368839430849979417153293105150840155166782139639465299627455206766912343534198274607170039570332915661732538495672148664711107322364137583378703829394228878715103634535706552591580784597030906695545345970372565918446804603094113785754923436375858000744572291368883397191287352663516006096405311374344627366662090710883860472321838461389",
        prime5: "10601",
        prime20: "100000000000000000039"
    };

    // Formatlama ve Gösterim
    function formatNumber(numStr, chunk = 100) {
        let formatted = "";
        for (let i = 0; i < numStr.length; i += chunk) {
            formatted += numStr.slice(i, i + chunk) + "\n";
        }
        return formatted.trim();
    }

    // Başlangıçta sayıları doldur
    document.getElementById("prime").textContent = formatNumber(primeNumbers.prime);
    document.getElementById("prime11330").textContent = formatNumber(primeNumbers.prime11330, 50);

    // Kopyalama Fonksiyonu
    function copyPrime(id, btn) {
        const text = primeNumbers[id] || document.getElementById(id).textContent;
        navigator.clipboard.writeText(text).then(() => {
            const originalContent = btn.innerHTML;
            btn.classList.add('copied');
            btn.innerHTML = '<svg class="icon" style="width: 14px; height: 14px;"><use xlink:href="#fa-check"></use></svg><span>Kopyalandı!</span>';
            
            setTimeout(() => {
                btn.classList.remove('copied');
                btn.innerHTML = originalContent;
            }, 2000);
        });
    }
</script>
{% endblock %}
